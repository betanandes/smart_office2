/* Importa√ß√£o da fonte Inter */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

:root {
    --cor-fundo: #10002d; /* Roxo Escuro Ultra */
    --cor-sidebar: #4b1664; /* Roxo M√©dio */
    --cor-card-fundo: #230b42; /* Roxo Quase Preto */
    --cor-destaque: #ff00ff; /* Magenta Brilhante */
    --cor-hover-link: #976acf; /* Roxo Suave */
    --cor-texto-principal: #ffffff;
    --cor-texto-secundario: #c8c8c8;
}

body {
    margin: 0;
    display: flex;
    font-family: 'Inter', sans-serif;
    background-color: var(--cor-fundo);
    color: var(--cor-texto-principal);
    min-height: 100vh; /* Garante que o body ocupe a altura total */
}

/* ---------------------------------- */
/* üëæ SIDEBAR (Menu Lateral)          */
/* ---------------------------------- */

.sidebar {
    width: 240px;
    background-color: var(--cor-sidebar);
    padding: 1.5rem 1rem; 
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
    z-index: 1000;
    position: fixed; 
    top: 0;
    left: 0;
    height: 100vh;
}

.sidebar h2 {
    color: var(--cor-destaque);
    text-align: center;
    margin-bottom: 2rem;
    font-size: 1.8rem;
    font-weight: 800;
}

.sidebar a {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--cor-texto-principal);
    /* Corrigido: Margem e padding mais compactos */
    margin: 0.2rem 0; 
    padding: 0.8rem 1rem;
    text-decoration: none;
    border-radius: 8px;
    transition: background-color 0.2s, color 0.2s;
}

.sidebar a.active,
.sidebar a:hover {
    background-color: var(--cor-hover-link);
    color: var(--cor-texto-principal);
}

.sidebar footer {
    text-align: center;
    color: var(--cor-texto-secundario);
    font-size: 0.75rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

/* ---------------------------------- */
/* üëæ NOVO: Estilo para o Footer da Sidebar */
/* ---------------------------------- */

.sidebar-footer {
    /* Centraliza o texto (opcional, mas recomendado) */
    text-align: center; 
    
    /* Configura o container para alinhar os elementos em coluna */
    display: flex;
    flex-direction: column; 
    gap: 0.25rem; /* Espa√ßo pequeno entre as linhas (ex: 4px) */
    
    /* Outros estilos de fonte, se necess√°rio */
    font-size: 0.8rem; /* Exemplo: um pouco menor que o padr√£o */
    opacity: 0.7; /* Exemplo: deixa o texto ligeiramente mais discreto */
    margin-top: 330px;
}


/* ---------------------------------- */
/* üíª CONTE√öDO PRINCIPAL (Main)        */
/* ---------------------------------- */

main {
    /* flex: 1; */
    padding: 2rem;
    overflow-y: auto; /* Adiciona scroll se o conte√∫do for longo */
    margin-left: 280px;
    width: calc(100% - 280px);
    min-width: 100vh;
}

h1 {
    font-size: 2.2rem;
    margin-bottom: 1.5rem;
    border-bottom: 2px solid var(--cor-destaque);
    padding-bottom: 0.5rem;
    font-weight: 700;
}

h2 {
    font-size: 1.6rem;
    margin-top: 2.5rem;
    margin-bottom: 1.2rem;
    color: var(--cor-texto-secundario);
    font-weight: 600;
}

/* ---------------------------------- */
/* üìä Dashboard - Cards e Gr√°fico     */
/* ---------------------------------- */

.dashboard-cards-grid {
    display: grid;
    /* Ajustado para 3 colunas em telas grandes */
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.card-metricas {
    background: var(--cor-card-fundo); 
    border-radius: 12px;
    padding: 1.2rem;
    /* Borda sutil de destaque */
    border: 1px solid var(--cor-hover-link); 
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
    text-align: center;
    transition: transform 0.3s;
}

.card-metricas:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
}

.card-metricas h3 {
    color: var(--cor-texto-secundario);
    font-size: 1rem;
    margin-top: 0;
    margin-bottom: 0.3rem;
    font-weight: 500;
}

.valor-metrica {
    font-size: 2.2rem;
    font-weight: 800;
    color: var(--cor-destaque); 
    margin: 0.5rem 0;
}

.descricao-metrica {
    font-size: 0.8rem;
    color: var(--cor-hover-link); 
    display: block; 
}

.grafico-dashboard-container {
    background: var(--cor-card-fundo);
    border-radius: 15px;
    padding: 1.5rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    margin-bottom: 2rem;
    min-height: 400px; /* Aumenta a altura m√≠nima */
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

/* Remove a formata√ß√£o de canvas global desnecess√°ria */
.grafico-dashboard-container canvas {
    width: 100% !important;
    height: 100% !important;
    background: none; 
    padding: 0;
    margin: 0;
}

/* ---------------------------------- */
/* üåü NOVO: ESTILIZA√á√ÉO DE √çCONES NOS CARDS DE M√âTRICAS üåü */
/* ---------------------------------- */

.card-metricas h3 {
    display: flex; /* Permite alinhar o √≠cone e o texto */
    align-items: center;
    justify-content: center; /* Centraliza todo o cabe√ßalho (√≠cone + texto) */
    gap: 8px; /* Espa√ßo entre o √≠cone e o texto */
    /* ... outras propriedades de h3 ... */
}

/* Estilo para o √≠cone (cor e tamanho) */
.card-metricas h3 i {
    color: var(--cor-destaque); /* Cor do √≠cone (Magenta Brilhante) */
    font-size: 1.1rem;
}

/* Garante que o √≠cone fique antes do texto, se necess√°rio (j√° feito no HTML com o span) */
.card-icon-wrapper {
    display: flex;
    align-items: center;
    /* Opcional: Adicionar um c√≠rculo de fundo sutil ao redor do √≠cone */
    /* background: rgba(255, 0, 255, 0.1); 
    border-radius: 50%;
    padding: 5px; */
}

/* Estiliza√ß√£o dos √çcones nas M√©tricas de Monitoramento e Insights */
.kpi-monitoramento h3 i, .kpi-card h3 i {
    margin-right: 8px; /* Espa√ßo entre o √≠cone e o texto */
    color: var(--cor-destaque);
}

/* ---------------------------------- */
/* üÜï NOVO: GRID INFERIOR (Gr√°fico + Tabela) */
/* ---------------------------------- */

.dashboard-grid-inferior {
    display: grid;
    /* Divide o espa√ßo: Gr√°fico (2 partes) e Riscos (1 parte) */
    grid-template-columns: 2fr 1fr; 
    gap: 2rem;
    margin-top: 2rem;
    margin-bottom: 2rem;
    align-items: flex-start; /* üåü MUDAN√áA CR√çTICA: Alinha pelo topo e permite alturas independentes üåü */
}

/* Estilo base para os blocos de conte√∫do na parte inferior */
.bloco-grafico, .bloco-riscos {
    background: var(--cor-card-fundo);
    border-radius: 15px;
    padding: 1.5rem; /* Adiciona padding para o conte√∫do DENTRO do card */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    display: flex; 
    flex-direction: column;
    height: 100%; /* Garante que o flex item ocupe a altura dispon√≠vel */
}

/* T√≠tulos H2 dentro dos blocos inferiores */
.bloco-grafico h2, .bloco-riscos h2 {
    margin-top: 0; 
    margin-bottom: 1rem; /* Espa√ßo abaixo do t√≠tulo */
    font-size: 1.4rem; /* Um pouco menor para melhor enquadramento */
    color: var(--cor-texto-principal); /* Garante visibilidade */
    border-bottom: 1px solid rgba(255, 0, 255, 0.2); /* Linha sutil abaixo do t√≠tulo */
    padding-bottom: 0.8rem;
}


/* Container do Gr√°fico */
.grafico-dashboard-container {
    flex-grow: 1; /* Permite que o container do gr√°fico ocupe o espa√ßo restante */
    min-height: 250px; /* üåü MUDAN√áA: Altura m√≠nima um pouco menor para linhas üåü */
    display: flex; /* Para centralizar o canvas se ele for menor */
    justify-content: center;
    align-items: center;
}

/* üåü NOVO: Limita a altura do canvas para evitar esticamento excessivo üåü */
.grafico-dashboard-container canvas {
    max-height: 350px; /* Altura m√°xima para o canvas */
    width: 100% !important;
    height: auto !important; /* Permite que a altura se ajuste automaticamente */
}


/* ---------------------------------- */
/* üìù Tabela de Riscos ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† */
/* ---------------------------------- */

.tabela-riscos-container {
    flex-grow: 1; /* Permite que o container da tabela ocupe o espa√ßo restante */
    overflow-x: auto; /* Mant√©m o scroll horizontal para a tabela em telas pequenas */
    /* üåü NOVO: Adiciona scroll vertical se a tabela for muito grande üåü */
    overflow-y: auto; 
    max-height: 400px; /* üåü MUDAN√áA: Limita a altura da tabela para caber no card üåü */
}

.tabela-riscos {
    width: 100%;
    border-collapse: collapse; 
    color: var(--cor-texto-principal);
    font-size: 0.9rem;
    min-width: 450px; /* Garante que a tabela n√£o fique espremida demais horizontalmente */
}

.tabela-riscos th, .tabela-riscos td {
    padding: 0.7rem 0.5rem; /* üåü MUDAN√áA: Padding um pouco menor para caber mais conte√∫do üåü */
    text-align: left;
    border-bottom: 1px solid var(--cor-sidebar); 
}

.tabela-riscos th {
    color: var(--cor-hover-link);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.7em; /* üåü MUDAN√áA: Tamanho da fonte menor para os cabe√ßalhos üåü */
}

/* ---------------------------------- */
/* üì± RESPONSIVIDADE (Ajuste para Mobile) */
/* ---------------------------------- */

@media (max-width: 900px) {
    .dashboard-grid-inferior {
        grid-template-columns: 1fr; 
        gap: 1.5rem;
    }
    .bloco-grafico, .bloco-riscos {
        padding: 1rem; /* Padding menor em mobile */
    }
    .bloco-grafico h2, .bloco-riscos h2 {
        font-size: 1.2rem;
    }
    .tabela-riscos th, .tabela-riscos td {
        padding: 0.5rem;
        font-size: 0.8rem;
    }
}

/* ---------------------------------- */
/* üìù Tabela de Riscos                 */
/* ---------------------------------- */

.tabela-riscos-container {
    background: var(--cor-card-fundo);
    border-radius: 15px;
    padding: 1.5rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    overflow-x: auto; 
}

.tabela-riscos {
    width: 100%;
    border-collapse: collapse; 
    color: var(--cor-texto-principal);
    font-size: 0.9rem;
}

.tabela-riscos th, .tabela-riscos td {
    padding: 1rem 1.2rem;
    text-align: left;
    border-bottom: 1px solid var(--cor-sidebar); 
}

.tabela-riscos th {
    color: var(--cor-hover-link);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.75rem;
}

.badge {
    padding: 0.4em 0.8em;
    border-radius: 20px;
    font-size: 0.75em;
    font-weight: 700;
    color: #fff;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

.badge.alta { background-color: #e74c3c; } 
.badge.media { background-color: #f1c40f; color: #333; } 
.badge.baixa { background-color: #2ecc71; color: #333; } 


/* ---------------------------------- */
/* ‚ö° Monitoramento                     */
/* ---------------------------------- */

.monitoramento-container {
    display: grid;
    /* Ajustado para 2/3 e 1/3 */
    grid-template-columns: 3fr 1fr; 
    gap: 2rem;
}

.grafico-card, .metricas-card {
    background: var(--cor-card-fundo);
    border-radius: 15px;
    padding: 1.5rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

.grafico-card h2 {
    margin-top: 0;
    font-size: 1.2rem;
    color: var(--cor-texto-secundario);
}

.chart-area {
    min-height: 300px; /* Altura m√≠nima para o gr√°fico */
}

.kpi-monitoramento {
    background: var(--cor-sidebar); /* Fundo mais escuro para destaque */
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 1.5rem;
    border-left: 5px solid var(--cor-destaque);
}

.kpi-monitoramento:last-child {
    margin-bottom: 0;
}

.kpi-monitoramento h3 {
    font-size: 0.9rem;
    margin: 0 0 0.5rem 0;
    color: var(--cor-hover-link);
}

.kpi-valor-m {
    font-size: 1.8rem;
    font-weight: 800;
    color: var(--cor-destaque);
    margin: 0;
}

/* ---------------------------------- */
/* üí° Insights                          */
/* ---------------------------------- */

.cards-kpi {
    display: flex;
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.kpi-card {
    flex: 1;
    background: var(--cor-card-fundo);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

.kpi-card h3 {
    color: var(--cor-texto-secundario);
    font-weight: 500;
    margin-top: 0;
    font-size: 1.1rem;
}

.kpi-valor {
    font-size: 2.2rem;
    font-weight: 800;
    color: var(--cor-destaque);
}

.insights-lista {
    list-style: none;
    padding: 0;
    margin-top: 0;
}

.insights-lista li {
    background: var(--cor-card-fundo);
    padding: 1rem 1.5rem;
    border-radius: 10px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    transition: background 0.2s;
    border-left: 5px solid var(--cor-destaque); 
}

.insights-lista li:hover {
    background: #3a1c60;
}

/* ---------------------------------- */
/* üß† Relat√≥rios                        */
/* ---------------------------------- */

.relatorio-cards {
    display: flex;
    gap: 2rem;
    margin-top: 1.5rem;
}

.relatorio-card {
    flex: 1;
    background: var(--cor-card-fundo);
    border-radius: 15px;
    padding: 1.5rem;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    border-top: 3px solid var(--cor-hover-link);
}

.relatorio-card h3 {
    color: var(--cor-destaque);
    margin-top: 0;
    font-weight: 600;
}

.relatorio-card p {
    color: var(--cor-texto-secundario);
    font-size: 0.9rem;
    min-height: 40px;
}

button {
    background-color: var(--cor-hover-link);
    border: none;
    padding: 0.7rem 1.2rem;
    border-radius: 8px;
    color: white;
    cursor: pointer;
    margin-top: 1rem;
    font-weight: 600;
    transition: 0.3s;
}

button:hover {
    background-color: var(--cor-destaque);
    transform: translateY(-2px);
}

/* Bot√£o do Gerador de Relat√≥rio (destaque verde) */
.relatorio-card button {
    background-color: #00cc66; /* Verde para destaque */
}

.relatorio-card button:hover {
    background-color: #00994d;
}

.resultado-relatorio {
    background: #1a0833;
    border: 1px solid var(--cor-sidebar);
    max-height: 400px;
    overflow-y: auto;
    font-size: 0.85rem;
    white-space: pre-wrap;
    padding: 1rem;
    border-radius: 8px;
}

/* Oculta os m√≥dulos n√£o ativos */
.modulo { display: none; }
.modulo.ativo { display: block; }


/* ---------------------------------- */
/* üì± RESPONSIVIDADE (Mobile)         */
/* ---------------------------------- */

/* Esconde o bot√£o de menu por padr√£o em desktop */
.menu-toggle {
    display: none;
}

@media (max-width: 1200px) {
    .dashboard-cards-grid {
        /* Garante pelo menos 2 colunas em tablets */
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
    }
}

@media (max-width: 900px) {
    body {
        /* Desativa o flex do body para empilhar o menu em mobile */
        flex-direction: column; 
    }

    /* Esconde a sidebar por padr√£o em mobile */
    .sidebar {
        width: 100%;
        height: auto;
        padding: 0.5rem 1rem;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        position: fixed; /* Fixa no topo */
        top: 0;
        left: 0;
    }
    
    .sidebar h2 {
        margin-bottom: 0;
        margin-right: 1rem;
    }
    
    .sidebar-content {
        display: flex;
        flex-direction: column;
        width: 100%;
        position: absolute;
        top: 60px; /* Abaixo do cabe√ßalho */
        left: 0;
        background-color: var(--cor-sidebar);
        padding: 1rem;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
    }
    
    .sidebar.open .sidebar-content {
        transform: translateX(0); /* Mostra o menu quando aberto */
    }

    .sidebar nav {
        margin-bottom: 1rem;
    }

    .sidebar footer {
        display: none;
    }

    .menu-toggle {
        display: block; /* Mostra o bot√£o toggle */
        background: none;
        color: var(--cor-destaque);
        font-size: 1.5rem;
        border: none;
        cursor: pointer;
        padding: 0;
        order: 2; /* Coloca o toggle √† direita do t√≠tulo */
    }

    main {
        padding: 1.5rem;
        /* Adiciona espa√ßo no topo para o menu fixo */
        margin-top: 70px; 
    }

    h1 {
        font-size: 1.8rem;
    }

    /* Empilhamento de Conte√∫do */
    .monitoramento-container {
        grid-template-columns: 1fr;
    }
    .relatorio-cards, .cards-kpi {
        flex-direction: column;
        gap: 1rem;
    }
    
    .tabela-riscos-container {
        padding: 1rem;
    }
    .tabela-riscos th, .tabela-riscos td {
        padding: 0.6rem 0.8rem;
    }
}

/* Oculta o conte√∫do da sidebar em mobile por padr√£o */
@media (max-width: 900px) {
    .sidebar h2 {
        order: 1;
    }
}

/* ---------------------------------- */
/* üåü NOVO: ESTILO DA BARRA DE SCROLL üåü */
/* ---------------------------------- */

/* Para navegadores Webkit (Chrome, Safari, Edge, Opera) */
::-webkit-scrollbar {
    width: 8px; /* Largura da barra de rolagem vertical */
    height: 8px; /* Altura da barra de rolagem horizontal */
}

::-webkit-scrollbar-track {
    background: var(--cor-card-fundo); /* Fundo da trilha da barra de rolagem */
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: var(--cor-hover-link); /* Cor da "al√ßa" da barra de rolagem */
    border-radius: 10px;
    border: 2px solid var(--cor-card-fundo); /* Borda para parecer mais "flutuante" */
}

::-webkit-scrollbar-thumb:hover {
    background: var(--cor-destaque); /* Cor ao passar o mouse */
}